(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{325:function(e,t,s){"use strict";var n=s(316);t.a=n.a},347:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=[1,.75,9/16];function i(e){var t=~~(100*Math.random());return e=e||n[~~(Math.random()*n.length)],{tag:"img",src:"https://picsum.photos/id/".concat(t,"/375/").concat(~~(1/e*375)),lazySrc:"https://picsum.photos/id/".concat(t,"/6/").concat(~~(1/e*6)),aspectRatio:e,width:150,height:~~(1/e*150)}}function a(e,t){if(e<=0)return[];for(var s=[];e--;)s.push(i(t));return s}},348:function(e,t,s){},420:function(e,t,s){"use strict";s(48),s(49),s(50),s(15),s(26),s(6),s(17);var n=s(4),i=(s(47),s(68),s(16),s(348),s(3)),a=s(325),r=s(368),c=s(61),o=s(111);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var d=Object(i.a)(c.a,o.a);t.a=d.extend({inheritAttrs:!1,name:"v-swiper",props:{value:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}},referenceWidth:Number,referenceHeight:Number,loadedSlideIndexes:{type:Array,default:function(){return[0]}},disableSlideReload:Boolean,lazy:Boolean,lazyOnce:Boolean},data:function(){return{touchStartY:0,touchMoveY:0,lazyIndexes:this.loadedSlideIndexes}},watch:{loadedSlideIndexes:function(e){this.lazyIndexes=e}},computed:{internalIndexes:{get:function(){return this.lazyIndexes},set:function(e){this.lazyIndexes=e,this.$emit("update:active-indexes",e)}},swiper:function(){return this.$refs.VSwiper.swiper},isLoop:function(){return this.options.loop}},methods:{touchStart:function(e){this.touchStartY=e.clientY},touchMove:function(e){var t;this.touchMoveY=e.clientY,(t=this.touchMoveY-this.touchStartY>0?this.swiper.realIndex-1:this.swiper.realIndex+1)>=0&&t<this.swiper.slides.length&&-1===this.internalIndexes.indexOf(t)&&(this.disableSlideReload?this.internalIndexes.push(t):this.internalIndexes=[this.swiper.realIndex,t])},slideChangeTransitionEnd:function(){!this.disableSlideReload&&this.swiper&&(this.internalIndexes=[this.swiper.realIndex]),this.swiper&&this.$emit("change",this.swiper.realIndex)},genContent:function(){var e=this;return this.value.map((function(t,s){return e.$createElement(r.swiperSlide,[e.$scopedSlots["item-".concat(s)]?e.$scopedSlots["item-".concat(s)]({show:e.internalIndexes.indexOf(s)>-1}):e.createElementByObject(Object.assign({tag:a.a,appear:!0,absolute:!0,width:e.width,height:e.height,referenceWidth:e.referenceWidth,referenceHeight:e.referenceHeight,lazy:e.lazy,lazyOnce:e.lazyOnce,hideElements:!e.lazy&&!e.lazyOnce&&!e.isLoop&&-1===e.internalIndexes.indexOf(s)},t))])}))}},render:function(e){var t=Object.assign({wrapperClass:"v-swiper__wrapper",slideClass:"v-swiper__slide",slideActiveClass:"v-swiper__slide--active",slideNextClass:"v-swiper__slide--next",slidePrevClass:"v-swiper__slide--prev",slideDuplicateClass:"v-swiper__slide--duplicate",slideVisibleClass:"v-swiper__slide--visible",slideDuplicatedActiveClass:"v-swiper__slide--duplicate-active",slideDuplicatedNextClass:"v-swiper__slide--duplicate-next",slideDuplicatedPrevClass:"v-swiper__slide--duplicate-prev",containerModifierClass:"v-swiper--"},this.options);t.on=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({touchStart:this.touchStart,touchMove:this.touchMove,slideChangeTransitionEnd:this.slideChangeTransitionEnd},t.on||{});var s="v-swiper";this.isLoop&&(s+=" v-swiper--loop");var i=null;return this.value.length?i=this.genContent():this.$scopedSlots.default&&(i=this.$scopedSlots.default({slides:this.internalIndexes})),e(r.swiper,{ref:"VSwiper",staticClass:s,style:this.measurableStyles,props:{options:t},on:this.$listeners,scopedSlots:{pagination:this.$scopedSlots.pagination}},i)}})},440:function(e,t,s){"use strict";s.r(t);s(48),s(49),s(50),s(15),s(26),s(6),s(17);var n=s(4),i=(s(47),s(361),s(362)),a=(s(326),s(367),s(420)),r=s(347);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var o,l={components:{VSwiper:a.a},data:function(){return{width:376,height:667,panel:{left:0,top:0,width:150},data:[{background:"https://picsum.photos/id/1/375/667",value:[]},{value:[]}],selectedPageIndex:0,selectedIndex:null,showCanvas:!0,options:{direction:"vertical",effect:"coverflow"},images:[],backgroundImages:[]}},created:function(){this.genImages(),this.genBackgroundImages()},watch:{selectedPageIndex:(o=Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showCanvas=!1,e.next=3,this.$nextTick();case 3:this.showCanvas=!0;case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},computed:{selectedPage:{get:function(){return this.data[this.selectedPageIndex].value||[]},set:function(e){this.$set(this.data[this.selectedPageIndex],"value",e)}},selected:{get:function(){return this.selectedPage[this.selectedIndex]},set:function(e){this.$set(this.selectedPage,this.selectedIndex,e)}}},methods:{pushItem:function(e){this.data[this.selectedPageIndex].value.push(e)},setBackground:function(e){this.$set(this.data[this.selectedPageIndex],"background",e)},genImages:function(){var e=this;this.images=Object(r.a)(40).map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},t,{left:e.width/2-t.width/2,top:e.height/2-t.height/2,class:"animated fadeIn slow"})}))},genBackgroundImages:function(){this.backgroundImages=Object(r.a)(40,375/667)}}},d=s(46),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{flat:"",tile:""}},[s("v-row",{staticClass:"pa-2",attrs:{"no-gutters":""}},[s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"mx-2",attrs:{color:"primary",small:""},on:{click:function(t){return e.data.push({value:[]})}}},[e._v("新增页面")]),e._v(" "),s("v-dialog",{attrs:{width:.8*e.width,height:.8*e.height},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-btn",e._g({staticClass:"mx-2",attrs:{color:"primary",small:""}},n),[e._v("预览")])]}}])},[e._v(" "),s("v-swiper",{ref:"VSwiper",staticClass:"white",attrs:{options:e.options,value:e.data,width:.8*e.width,height:.8*e.height,"reference-width":e.width,"reference-height":e.height}})],1)],1),e._v(" "),s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"4"}},[s("v-tabs",{attrs:{vertical:"","icons-and-text":"",dark:""}},[s("v-tab",[s("span",[e._v("页面")]),e._v(" "),s("v-icon",{domProps:{textContent:e._s("pages")}})],1),e._v(" "),s("v-tab",[s("span",[e._v("照片")]),e._v(" "),s("v-icon",{domProps:{textContent:e._s("image")}})],1),e._v(" "),s("v-tab",[s("span",[e._v("背景")]),e._v(" "),s("v-icon",{domProps:{textContent:e._s("image")}})],1),e._v(" "),s("v-tab-item",[s("div",{staticClass:"overflow-y-auto",staticStyle:{height:"700px"}},e._l(e.data,(function(t,n){return s("v-card",{key:n,staticClass:"ma-3",class:e.selectedPageIndex===n?"elevation-10":"",attrs:{outlined:e.selectedPageIndex!==n,tile:"",ripple:!1},on:{click:function(t){e.selectedPageIndex=n}}},[s("v-responsive",{attrs:{"aspect-ratio":375/674}},[s("v-canvas",{attrs:{value:t.value,background:t.background,absolute:"","reference-width":375,"reference-height":674,appear:""}})],1)],1)})),1)]),e._v(" "),s("v-tab-item",[s("div",{staticClass:"overflow-y-auto px-2",staticStyle:{height:"700px"}},[s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[s("v-btn",{attrs:{small:"",icon:""},on:{click:e.genImages}},[s("v-icon",{domProps:{textContent:e._s("refresh")}})],1)],1),e._v(" "),e._l(2,(function(t){return s("v-col",{key:t},[s("v-row",{attrs:{dense:""}},e._l(e.images.filter((function(e,s){return s%2==t-1})),(function(t,n){return s("v-col",{key:n,attrs:{cols:"12"}},[s("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(s){return e.pushItem(Object.assign({},t))}}},["img"===t.tag?s("v-img",{staticClass:"grey lighten-2",attrs:{src:t.src,"lazy-src":t.lazySrc,"aspect-ratio":t.aspectRatio,contain:""}}):e._e()],1)],1)})),1)],1)}))],2)],1)]),e._v(" "),s("v-tab-item",[s("div",{staticClass:"overflow-y-auto px-2",staticStyle:{height:"700px"}},[s("v-row",{attrs:{dense:""}},[s("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[s("v-btn",{attrs:{small:"",icon:""},on:{click:e.genBackgroundImages}},[s("v-icon",{domProps:{textContent:e._s("refresh")}})],1)],1),e._v(" "),e._l(2,(function(t){return s("v-col",{key:t},[s("v-row",{attrs:{dense:""}},[1===t?s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(t){return e.setBackground(null)}}},[s("v-responsive",{attrs:{"aspect-ratio":375/674}},[s("v-row",{staticClass:"fill-height",attrs:{"no-gutters":"",justify:"center",align:"center"}},[e._v("空白")])],1)],1)],1):e._e(),e._v(" "),e._l(e.backgroundImages.filter((function(e,s){return s%2==t-1})),(function(t,n){return s("v-col",{key:n,attrs:{cols:"12"}},[s("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(s){return e.setBackground(t.src)}}},["img"===t.tag?s("v-img",{staticClass:"grey lighten-2",attrs:{src:t.src,"lazy-src":t.lazySrc,"aspect-ratio":t.aspectRatio,contain:""}}):e._e()],1)],1)}))],2)],1)}))],2)],1)])],1)],1),e._v(" "),s("v-col",{attrs:{cols:"8"}},[s("v-card",{staticClass:"d-flex justify-center align-center fill-height",attrs:{color:"grey",flat:"",tile:""}},[e.showCanvas?s("v-canvas",{staticClass:"white",attrs:{background:(e.data[e.selectedPageIndex]||{}).background,appear:"",absolute:"",editable:"",width:e.width,height:e.height},on:{selected:function(t){return e.selectedIndex=t}},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:"selectedPage"}}):e._e(),e._v(" "),e.selected?s("v-draggable-resizable",{staticStyle:{"z-index":"100"},attrs:{absolute:"",parent:"",resizable:!1},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.on,i=t.style;return[s("v-card",{style:i,attrs:{tile:"",outlined:""}},[s("v-system-bar",e._g({staticStyle:{cursor:"move"},attrs:{window:"",dark:""}},n),[s("div",{staticClass:"text-truncate"},[e._v(e._s(e.selected.tag)+"属性编辑")]),e._v(" "),s("v-spacer")],1),e._v(" "),s("v-card-text",[e._v("\n                TODO\n              ")])],1)]}}],null,!1,4067111887),model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}}):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=u.exports}}]);