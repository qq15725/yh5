(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{439:function(t,a,r){"use strict";r.r(a);r(355);var e,o=r(356),s=r(415),n=r.n(s),i={data:function(){return{showImageForm:!1,showBackgroundForm:!1,form:{background:"https://picsum.photos/id/1/375/667",image:"https://picsum.photos/id/11/500/300"},data:[],background:"https://picsum.photos/id/1/375/667",editable:!0,loading:!1}},methods:{genPoster:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.editable=!1,t.next=4,this.$nextTick();case 4:setTimeout((function(){n()(a.$refs.canvas.$el,{logging:!1,useCORS:!0,allowTaint:!1,scrollX:0,scrollY:0,scale:3}).then((function(t){var r=new Image;r.src=t.toDataURL("image/png"),window.open("").document.write(r.outerHTML),a.editable=!0,a.loading=!1}))}),200);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}},c=r(46),l=Object(c.a)(i,(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("v-card",{attrs:{flat:"",tile:""}},[r("v-row",{staticClass:"pa-2",attrs:{"no-gutters":""}},[r("v-dialog",{attrs:{width:300},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{color:"primary",small:""}},e),[t._v("添加图片")])]}}]),model:{value:t.showImageForm,callback:function(a){t.showImageForm=a},expression:"showImageForm"}},[t._v(" "),r("v-form",{on:{submit:function(a){return a.preventDefault(),t.data.push({tag:"img",src:t.form.image,width:50,height:50}),void(t.showImageForm=!1)}}},[r("v-card",[r("v-card-text",{staticClass:"pa-3"},[r("v-text-field",{attrs:{label:"链接"},model:{value:t.form.image,callback:function(a){t.$set(t.form,"image",a)},expression:"form.image"}})],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary",small:""}},[t._v("添加")])],1)],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{width:300},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on;return[r("v-btn",t._g({staticClass:"mx-2",attrs:{color:"primary",small:""}},e),[t._v("设置背景")])]}}]),model:{value:t.showBackgroundForm,callback:function(a){t.showBackgroundForm=a},expression:"showBackgroundForm"}},[t._v(" "),r("v-form",{on:{submit:function(a){return a.preventDefault(),t.background=t.form.background,void(t.showBackgroundForm=!1)}}},[r("v-card",[r("v-card-text",{staticClass:"pa-3"},[r("v-text-field",{attrs:{label:"链接"},model:{value:t.form.background,callback:function(a){t.$set(t.form,"background",a)},expression:"form.background"}})],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary",small:""}},[t._v("添加")])],1)],1)],1)],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"mx-2",attrs:{loading:t.loading,color:"primary",small:""},on:{click:t.genPoster}},[t._v("生成海报")])],1),t._v(" "),r("v-card-text",[r("v-card",{staticClass:"pa-3 d-flex justify-center align-center",attrs:{dark:"",flat:"",tile:""}},[r("v-canvas",{ref:"canvas",staticClass:"white",attrs:{background:t.background,width:"375",height:"667",absolute:"",editable:t.editable},model:{value:t.data,callback:function(a){t.data=a},expression:"data"}})],1)],1)],1)}),[],!1,null,null,null);a.default=l.exports}}]);