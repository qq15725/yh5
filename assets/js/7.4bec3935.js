(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{339:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=[1,.75,9/16];function a(t){var e=~~(100*Math.random());return t=t||s[~~(Math.random()*s.length)],{tag:"img",src:"https://picsum.photos/id/".concat(e,"/375/").concat(~~(1/t*375)),lazySrc:"https://picsum.photos/id/".concat(e,"/6/").concat(~~(1/t*6)),aspectRatio:t,width:150,height:~~(1/t*150)}}function r(t,e){if(t<=0)return[];for(var n=[];t--;)n.push(a(e));return n}},426:function(t,e,n){"use strict";n(61),n(62),n(63),n(18),n(31),n(16),n(25);var s=n(5),a=n(366),r=(n(60),n(64),n(9),n(3)),i=n(309).a,c=n(359),o=n(54);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}var u=Object(r.a)(o.a);e.a=u.extend({inheritAttrs:!1,name:"v-swiper",props:{value:Array,options:Object,referenceWidth:{type:Number,default:375},referenceHeight:{type:Number,default:667},loadedSlideIndexes:{type:Array,default:function(){return[0]}},disableSlideReload:Boolean,lazy:Boolean},data:function(){return{touchStartY:0,touchMoveY:0,lazyIndexes:this.loadedSlideIndexes}},watch:{loadedSlideIndexes:function(t){this.lazyIndexes=t}},computed:{internalIndexes:{get:function(){return this.lazyIndexes},set:function(t){this.lazyIndexes=t,this.$emit("update:active-indexes",t)}},swiper:function(){return this.$refs.VSwiper.swiper}},methods:{touchStart:function(t){this.touchStartY=t.clientY},touchMove:function(t){var e;this.touchMoveY=t.clientY,(e=this.touchMoveY-this.touchStartY>0?this.swiper.activeIndex-1:this.swiper.activeIndex+1)>=0&&e<this.value.length&&-1===this.internalIndexes.indexOf(e)&&(this.disableSlideReload?this.internalIndexes.push(e):this.internalIndexes=[this.swiper.activeIndex,e])},slideChangeTransitionEnd:function(){this.disableSlideReload||(this.internalIndexes=[this.swiper.activeIndex])},genContent:function(){var t=this;return this.value.map((function(e,n){var s=e.background,r=e.on,o=e.style,l=e.class,u=Object(a.a)(e,["background","on","style","class"]);return t.$createElement(c.swiperSlide,{staticClass:"v-swiper__slide"},[t.$createElement(i,{class:l,style:o,attrs:u,props:{appear:!0,absolute:!0,referenceWidth:t.referenceWidth,referenceHeight:t.referenceHeight,background:s,lazy:t.lazy,hideElements:!t.lazy&&-1===t.internalIndexes.indexOf(n)},on:r})])}))}},render:function(t){var e=this.options||{};return e.on=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(s.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({touchStart:this.touchStart,touchMove:this.touchMove,slideChangeTransitionEnd:this.slideChangeTransitionEnd},e.on||{}),t(c.swiper,{ref:"VSwiper",staticClass:"v-swiper",style:this.measurableStyles,props:{options:e},on:this.$listeners,scopedSlots:{pagination:this.$scopedSlots.pagination}},[this.genContent(),this.$slots.default])}})},436:function(t,e,n){"use strict";n.r(e);n(61),n(62),n(63),n(18),n(31),n(16),n(25);var s=n(5),a=(n(60),n(352),n(353)),r=(n(318),n(358),n(426)),i=n(339);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}var o,l={components:{VSwiper:r.a},data:function(){return{width:376,height:667,panel:{left:0,top:0,width:150},data:[{background:"https://picsum.photos/id/1/375/667",value:[]},{value:[]}],selectedPageIndex:0,selectedIndex:null,showCanvas:!0,options:{direction:"vertical",effect:"coverflow"},images:[],backgroundImages:[]}},created:function(){this.genImages(),this.genBackgroundImages()},watch:{selectedPageIndex:(o=Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.showCanvas=!1,t.next=3,this.$nextTick();case 3:this.showCanvas=!0;case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},computed:{selectedPage:{get:function(){return this.data[this.selectedPageIndex].value||[]},set:function(t){this.$set(this.data[this.selectedPageIndex],"value",t)}},selected:{get:function(){return this.selectedPage[this.selectedIndex]},set:function(t){this.$set(this.selectedPage,this.selectedIndex,t)}}},methods:{pushItem:function(t){this.data[this.selectedPageIndex].value.push(t)},setBackground:function(t){this.$set(this.data[this.selectedPageIndex],"background",t)},genImages:function(){var t=this;this.images=Object(i.a)(40).map((function(e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(s.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{left:t.width/2-e.width/2,top:t.height/2-e.height/2,class:"animated fadeIn slow"})}))},genBackgroundImages:function(){this.backgroundImages=Object(i.a)(40,375/667)}}},u=n(45),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:"",tile:""}},[n("v-row",{staticClass:"pa-2",attrs:{"no-gutters":""}},[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"mx-2",attrs:{color:"primary",small:""},on:{click:function(e){return t.data.push({value:[]})}}},[t._v("新增页面")]),t._v(" "),n("v-dialog",{attrs:{width:.8*t.width,height:.8*t.height},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[n("v-btn",t._g({staticClass:"mx-2",attrs:{color:"primary",small:""}},s),[t._v("预览")])]}}])},[t._v(" "),n("v-swiper",{ref:"VSwiper",staticClass:"white",attrs:{options:t.options,value:t.data,width:.8*t.width,height:.8*t.height,"reference-width":t.width,"reference-height":t.height}})],1)],1),t._v(" "),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"4"}},[n("v-tabs",{attrs:{vertical:"","icons-and-text":"",dark:""}},[n("v-tab",[n("span",[t._v("页面")]),t._v(" "),n("v-icon",{domProps:{textContent:t._s("pages")}})],1),t._v(" "),n("v-tab",[n("span",[t._v("照片")]),t._v(" "),n("v-icon",{domProps:{textContent:t._s("image")}})],1),t._v(" "),n("v-tab",[n("span",[t._v("背景")]),t._v(" "),n("v-icon",{domProps:{textContent:t._s("image")}})],1),t._v(" "),n("v-tab-item",[n("div",{staticClass:"overflow-y-auto",staticStyle:{height:"700px"}},t._l(t.data,(function(e,s){return n("v-card",{key:s,staticClass:"ma-3",class:t.selectedPageIndex===s?"elevation-10":"",attrs:{outlined:t.selectedPageIndex!==s,tile:"",ripple:!1},on:{click:function(e){t.selectedPageIndex=s}}},[n("v-responsive",{attrs:{"aspect-ratio":375/674}},[n("v-canvas",{attrs:{value:e.value,background:e.background,absolute:"","reference-width":375,"reference-height":674,appear:""}})],1)],1)})),1)]),t._v(" "),n("v-tab-item",[n("div",{staticClass:"overflow-y-auto px-2",staticStyle:{height:"700px"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[n("v-btn",{attrs:{small:"",icon:""},on:{click:t.genImages}},[n("v-icon",{domProps:{textContent:t._s("refresh")}})],1)],1),t._v(" "),t._l(2,(function(e){return n("v-col",{key:e},[n("v-row",{attrs:{dense:""}},t._l(t.images.filter((function(t,n){return n%2==e-1})),(function(e,s){return n("v-col",{key:s,attrs:{cols:"12"}},[n("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(n){return t.pushItem(Object.assign({},e))}}},["img"===e.tag?n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.src,"lazy-src":e.lazySrc,"aspect-ratio":e.aspectRatio,contain:""}}):t._e()],1)],1)})),1)],1)}))],2)],1)]),t._v(" "),n("v-tab-item",[n("div",{staticClass:"overflow-y-auto px-2",staticStyle:{height:"700px"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[n("v-btn",{attrs:{small:"",icon:""},on:{click:t.genBackgroundImages}},[n("v-icon",{domProps:{textContent:t._s("refresh")}})],1)],1),t._v(" "),t._l(2,(function(e){return n("v-col",{key:e},[n("v-row",{attrs:{dense:""}},[1===e?n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(e){return t.setBackground(null)}}},[n("v-responsive",{attrs:{"aspect-ratio":375/674}},[n("v-row",{staticClass:"fill-height",attrs:{"no-gutters":"",justify:"center",align:"center"}},[t._v("空白")])],1)],1)],1):t._e(),t._v(" "),t._l(t.backgroundImages.filter((function(t,n){return n%2==e-1})),(function(e,s){return n("v-col",{key:s,attrs:{cols:"12"}},[n("v-card",{attrs:{tile:"",flat:"",outlined:"",ripple:!1},on:{click:function(n){return t.setBackground(e.src)}}},["img"===e.tag?n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.src,"lazy-src":e.lazySrc,"aspect-ratio":e.aspectRatio,contain:""}}):t._e()],1)],1)}))],2)],1)}))],2)],1)])],1)],1),t._v(" "),n("v-col",{attrs:{cols:"8"}},[n("v-card",{staticClass:"d-flex justify-center align-center fill-height",attrs:{color:"grey",flat:"",tile:""}},[t.showCanvas?n("v-canvas",{staticClass:"white",attrs:{background:(t.data[t.selectedPageIndex]||{}).background,appear:"",absolute:"",editable:"",width:t.width,height:t.height},on:{selected:function(e){return t.selectedIndex=e}},model:{value:t.selectedPage,callback:function(e){t.selectedPage=e},expression:"selectedPage"}}):t._e(),t._v(" "),t.selected?n("v-draggable-resizable",{staticStyle:{"z-index":"100"},attrs:{absolute:"",parent:"",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.on,a=e.style;return[n("v-card",{style:a,attrs:{tile:"",outlined:""}},[n("v-system-bar",t._g({staticStyle:{cursor:"move"},attrs:{window:"",dark:""}},s),[n("div",{staticClass:"text-truncate"},[t._v(t._s(t.selected.tag)+"属性编辑")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[t._v("\n                TODO\n              ")])],1)]}}],null,!1,4067111887),model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}}):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=d.exports}}]);