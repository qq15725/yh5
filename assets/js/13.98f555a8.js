(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{428:function(t,e,i){"use strict";i.r(e);i(49),i(50),i(51),i(26),i(48),i(33),i(19),i(8),i(16),i(34),i(106);var n=i(4),r=(i(155),i(0)),s=i.n(r);function a(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s.a.extend({mixins:e})}i(148),i(156),i(157),i(68),i(69),i(67),i(104),i(107),i(108),i(13),i(162);function o(t,e){return function(){return console.warn("The ".concat(t," component must be used inside a ").concat(e))}}function l(t,e,i){var r=e&&i?{register:o(e,i),unregister:o(e,i)}:null;return s.a.extend({name:"registrable-inject",inject:Object(n.a)({},t,{default:r})})}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==t||""===t?void 0:isNaN(+t)?String(t):"".concat(Number(t)).concat(e)}var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return s.a.extend({name:"proxyable",model:{prop:t,event:e},props:Object(n.a)({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:Object(n.a)({},t,(function(t){this.internalLazyValue=t}))})}(),d=s.a.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],minHeight:[Number,String],width:[Number,String],maxWidth:[Number,String],minWidth:[Number,String]},computed:{measurableStyles:function(){var t={},e=h(this.height),i=h(this.maxHeight),n=h(this.minHeight),r=h(this.width),s=h(this.maxWidth),a=h(this.minWidth);return e&&(t.height=e),i&&(t.maxHeight=i),n&&(t.minHeight=n),r&&(t.width=r),s&&(t.maxWidth=s),a&&(t.minWidth=a),t}}});i(163),i(151);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}
/**
 * @copyright 2017 Alex Regan
 * @license MIT
 * @see https://github.com/alexsasharegan/vue-functional-data-merge
 */function p(){for(var t,e,i={},n=arguments.length;n--;)for(var r=0,s=Object.keys(arguments[n]);r<s.length;r++)switch(t=s[r]){case"class":case"style":case"directives":Array.isArray(i[t])||(i[t]=[]),i[t]=i[t].concat(arguments[n][t]);break;case"staticClass":if(!arguments[n][t])break;void 0===i[t]&&(i[t]=""),i[t]&&(i[t]+=" "),i[t]+=arguments[n][t].trim();break;case"on":case"nativeOn":i[t]||(i[t]={});for(var a=i[t],o=0,l=Object.keys(arguments[n][t]||{});o<l.length;o++)a[e=l[o]]?a[e]=[].concat(a[e],arguments[n][t][e]):a[e]=arguments[n][t][e];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":i[t]||(i[t]={}),i[t]=f({},arguments[n][t],{},i[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:i[t]||(i[t]=arguments[n][t])}return i}var g={name:"v-ref-line",functional:!0,props:{tag:{type:String,default:"div"},absolute:{type:Boolean,default:!0},fixed:Boolean,top:[Number,String],left:[Number,String],borderStyle:String,length:[Number,String],vertical:Boolean,color:String},render:function(t,e){var i=e.props,n=e.data,r=e.children,s={borderColor:i.color},a=h(i.top),o=h(i.left),l=h(i.length);a&&(s.top=a),o&&(s.left=o),l&&(s[i.vertical?"height":"width"]=l),i.borderStyle&&(s.borderStyle=i.borderStyle);var c={"v-ref-line":!0,"v-ref-line--absolute":i.absolute,"v-ref-line--fixed":i.fixed,"v-ref-line--vertical":i.vertical};return t(i.tag,p(n,{class:c,style:s}),r)}},v=(i(164),{name:"v-sketch-label",functional:!0,props:{tag:{type:String,default:"div"},vertical:Boolean,color:String},render:function(t,e){var i=e.props,n=e.data,r=e.children,s={"v-sketch-label":!0,"v-sketch-label--vertical":i.vertical};return t(i.tag,p(n,{class:s,style:{}}),[t("div",{staticClass:"v-sketch-label__chip",style:{backgroundColor:i.color}},[r])])}}),m=i(12);i(166);function b(t,e){"function"==typeof t&&(t={start:t,move:t,end:t});var i={state:"dragend",dragstartX:0,dragstartY:0,dragendX:0,dragendY:0,dragX:0,dragY:0,dragOffsetX:0,dragOffsetY:0,start:t.start,move:t.move,end:t.end};return{mousedown:function(t){y(t,i);var n=function(t){return w(t,i)};e=e||!1;window.addEventListener("mousemove",n,e),window.addEventListener("mouseup",(function t(r){window.removeEventListener("mousemove",n,e),window.removeEventListener("mouseup",t,e),O(r,i)}),e)},touchstart:function(t){y(t,i);var n=function(t){return w(t,i)};e=e||!1;window.addEventListener("touchmove",n,e),window.addEventListener("touchend",(function t(r){window.removeEventListener("touchmove",n,e),window.removeEventListener("touchend",t,e),O(r,i)}),e)}}}function y(t,e){e.state="dragstart",e.dragstartX=t instanceof MouseEvent?t.clientX:t.changedTouches[0].clientX,e.dragstartY=t instanceof MouseEvent?t.clientY:t.changedTouches[0].clientY,e.start&&e.start(Object.assign(t,e))}function w(t,e){"dragend"!==e.state&&(e.state="dragging",e.dragX=t instanceof MouseEvent?t.clientX:t.changedTouches[0].clientX,e.dragY=t instanceof MouseEvent?t.clientY:t.changedTouches[0].clientY,e.dragOffsetX=e.dragX-e.dragstartX,e.dragOffsetY=e.dragY-e.dragstartY,e.move&&e.move(Object.assign(t,e)))}function O(t,e){e.state="dragend",e.dragendX=t instanceof MouseEvent?t.clientX:t.changedTouches[0].clientX,e.dragendY=t instanceof MouseEvent?t.clientY:t.changedTouches[0].clientY,e.dragOffsetX=e.dragendX-e.dragstartX,e.dragOffsetY=e.dragendY-e.dragstartY,e.end&&e.end(Object.assign(t,e))}var S=a(c).extend({name:"v-draggable",props:{value:{type:Object,default:function(){return{top:0,left:0}}},absolute:Boolean,fixed:Boolean,cursor:[Boolean,String],disabled:Boolean,axis:{type:String,default:"both",validator:function(t){return["x","y","both"].includes(t)}},grid:[String,Number,Array],parent:{type:[Boolean,String],default:!1}},data:function(){return{originalValue:null,parentWidth:null,parentHeight:null}},watch:{parent:function(){var t=this;this.$nextTick((function(){var e=t.getParentSize(),i=Object(m.a)(e,2);t.parentWidth=i[0],t.parentHeight=i[1]}))}},mounted:function(){var t=this.getParentSize(),e=Object(m.a)(t,2);this.parentWidth=e[0],this.parentHeight=e[1]},computed:{styles:function(){var t={},e=h(this.internalValue.left),i=h(this.internalValue.top);return this.absolute&&(t.position="absolute"),this.fixed&&(t.position="fixed"),!this.disabled&&this.cursor&&(t.cursor=!0===this.cursor?"move":this.cursor),e&&(t.left=e),i&&(t.top=i),t},computedGrid:function(){return"string"==typeof this.grid?[Number(this.grid),Number(this.grid)]:"number"==typeof this.grid?[this.grid,this.grid]:this.grid}},methods:{getParentSize:function(){if(!this.parent)return[null,null];var t="string"==typeof this.parent?document.querySelector(this.parent):this.$el.parentNode,e=window.getComputedStyle(t,null);return[parseInt(e.getPropertyValue("width"),10),parseInt(e.getPropertyValue("height"),10)]},handleEdge:function(t){return this.parentHeight&&(t.top=Math.max(t.top,0),t.top=Math.min(t.top,this.parentHeight-this.$el.offsetHeight)),this.parentWidth&&(t.left=Math.max(t.left,0),t.left=Math.min(t.left,this.parentWidth-this.$el.offsetWidth)),t},snapToGrid:function(t){if(!this.computedGrid)return t;var e=Object(m.a)(this.computedGrid,2),i=e[0],n=e[1];return i&&(t.left=Math.round(t.left/i)*i),n&&(t.top=Math.round(t.top/n)*n),t},handleMove:function(t){return{left:"y"===this.axis?this.originalValue.left:this.originalValue.left+t.dragOffsetX,top:"x"===this.axis?this.originalValue.top:this.originalValue.top+t.dragOffsetY}},emitMoveEvent:function(){this.$emit("dragging",this.internalValue)},emitEndEvent:function(){this.$emit("dragstop",this.internalValue)},onStart:function(t){this.originalValue=Object.assign({},this.internalValue),t instanceof MouseEvent&&(t.preventDefault(),t.stopPropagation())},onMove:function(t){if(this.originalValue){var e=this.handleMove(t);e=this.snapToGrid(e),e=this.handleEdge(e),this.internalValue=e,this.emitMoveEvent&&this.emitMoveEvent(),t instanceof MouseEvent&&(t.preventDefault(),t.stopPropagation())}},onEnd:function(t){this.originalValue=null,this.emitEndEvent&&this.emitEndEvent(),t instanceof MouseEvent&&(t.preventDefault(),t.stopPropagation())},genListeners:function(){return this.disabled?{}:b({start:this.onStart,move:this.onMove,end:this.onEnd})}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({on:this.genListeners(),value:this.internalValue,style:this.styles,active:null!==this.originalValue})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag,t):null;var t}}),x=(i(167),a(S)),E=["t","tl","l","b","bl","tr","r","br"],j=x.extend({name:"v-resizable",props:{value:{type:Object,default:function(){return{width:null,height:null}}},minWidth:[String,Number],maxWidth:[String,Number],minHeight:[String,Number],maxHeight:[String,Number],breakpoint:{type:[String,Number],default:50},handles:{type:Array,default:function(){return E},validator:function(t){return new Set(t.filter((function(t){return new Set(E).has(t)}))).size===t.length}},aspectRatio:[String,Number],outlined:Boolean,point:Boolean},data:function(){return{handle:null,cursorMap:{t:"ns-resize",tl:"nwse-resize",l:"ew-resize",b:"ns-resize",bl:"nesw-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize"}}},mounted:function(){this.height&&this.width||(this.internalValue.height=this.$el.offsetHeight,this.internalValue.width=this.$el.offsetWidth)},computed:{classes:function(){return{"v-resizable":!0,"v-resizable--outlined":this.outlined,"v-resizable--disabled":this.disabled,"v-resizable--activated":null!==this.originalValue}},styles:function(){var t={},e=h(this.internalValue.width),i=h(this.internalValue.height);return this.absolute&&(t.position="absolute"),this.fixed&&(t.position="fixed"),e&&(t.width=e),i&&(t.height=i),t},defaultSlotStyles:function(){var t={},e=h(this.internalValue.width),i=h(this.internalValue.height);return e&&(t.width=e),i&&(t.height=i),t},computedAspectRatio:function(){return Number(this.aspectRatio)},computedBreakpoint:function(){return Number(this.breakpoint)},inBreakpoint:function(){return this.internalValue.width<=this.computedBreakpoint||this.internalValue.height<=this.computedBreakpoint}},methods:{handleEdge:function(t){var e=[parseInt(this.minHeight)||0,t.height,0],i=[parseInt(this.minWidth)||0,t.width,0],n=[],r=[];return parseInt(this.maxHeight)&&n.push(parseInt(this.maxHeight)),this.parentHeight&&n.push(this.parentHeight),parseInt(this.maxWidth)&&r.push(parseInt(this.maxWidth)),this.parentWidth&&r.push(this.parentWidth),t.height=Math.min.apply(Math,[Math.max.apply(Math,e)].concat(n)),t.width=Math.min.apply(Math,[Math.max.apply(Math,i)].concat(r)),t},snapToGrid:function(t){if(!this.computedGrid)return t;var e=Object(m.a)(this.computedGrid,2),i=e[0],n=e[1];return i&&(t.width=Math.round(t.width/i)*i),n&&(t.height=Math.round(t.height/n)*n),t},convertToAspectRatio:function(t){return this.computedAspectRatio&&this.handle?(this.handle.indexOf("l")>-1||this.handle.indexOf("r")>-1?t.height=t.width*this.computedAspectRatio:t.width=t.height/this.computedAspectRatio,t):t},handleMove:function(t){var e={width:this.internalValue.width,height:this.internalValue.height};return this.handle&&(this.handle.indexOf("l")>-1?e.width=this.originalValue.width-t.dragOffsetX:this.handle.indexOf("r")>-1&&(e.width=this.originalValue.width+t.dragOffsetX),this.handle.indexOf("t")>-1?e.height=this.originalValue.height-t.dragOffsetY:this.handle.indexOf("b")>-1&&(e.height=this.originalValue.height+t.dragOffsetY),e=this.convertToAspectRatio(e)),e},emitMoveEvent:function(){this.$emit("resizing",this.internalValue)},emitEndEvent:function(){this.$emit("resizestop",this.internalValue)},genDefaultHandle:function(t){var e=t.on,i=t.style;return this.$createElement("div",{staticClass:this.point?"v-resizable__handle--point":"v-resizable__handle--line",style:i,on:e})},genHandle:function(t){var e=this,i={on:b({start:function(i){e.handle=t,e.onStart(i)},move:this.onMove,end:function(t){e.onEnd(t),e.handle=null}}),style:{cursor:this.cursorMap[t]},inBreakpoint:this.inBreakpoint};return this.$createElement("div",{staticClass:"v-resizable__handle v-resizable__handle--".concat(t),class:{"v-resizable__handle--resizing":this.handle&&this.handle===t,"v-resizable__handle--hide":this.handle&&this.handle!==t||this.inBreakpoint&&-1===["br","b","r"].indexOf(t)}},[this.$scopedSlots[t]?this.$scopedSlots[t](i):this.genDefaultHandle(i)])},genHandles:function(){return this.handles.map(this.genHandle)},genContent:function(){return this.$scopedSlots.default&&this.$scopedSlots.default({value:this.internalValue,style:this.defaultSlotStyles,active:null!==this.originalValue})}},render:function(t){return t("div",{class:this.classes,style:this.styles,on:this.$listeners},[!this.disabled&&this.genHandles(),t("div",{staticClass:"v-resizable__wrapper"},[this.genContent()])])}}),k=a(j).extend({name:"v-draggable-resizable",props:{value:{type:Object,default:function(){return{top:0,left:0,width:null,height:null}}},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0}},computed:{styles:function(){return Object.assign(j.options.computed.styles.call(this),S.options.computed.styles.call(this))}},methods:{handleEdge:function(t){return Object.assign(j.options.methods.handleEdge.call(this,t),S.options.methods.handleEdge.call(this,t))},snapToGrid:function(t){if(!this.computedGrid)return t;var e=Object(m.a)(this.computedGrid,2),i=e[0],n=e[1];return i&&(t.width=Math.round(t.width/i)*i,t.left=Math.round(t.left/i)*i),n&&(t.height=Math.round(t.height/n)*n,t.top=Math.round(t.top/n)*n),t},handleMove:function(t){var e=Object.assign({},this.internalValue);return this.handle?(this.handle.indexOf("t")>-1&&(e.top=this.originalValue.top+t.dragOffsetY),this.handle.indexOf("l")>-1&&(e.left=this.originalValue.left+t.dragOffsetX),Object.assign({},e,j.options.methods.handleMove.call(this,t))):Object.assign({},e,S.options.methods.handleMove.call(this,t))},emitMoveEvent:function(){this.handle?j.options.methods.emitMoveEvent.call(this):S.options.methods.emitMoveEvent.call(this)},emitEndEvent:function(){this.handle?j.options.methods.emitEndEvent.call(this):S.options.methods.emitEndEvent.call(this)},genHandle:function(t){var e=j.options.methods.genHandle.call(this,t);return e&&!this.handle&&null!==this.originalValue&&(e.data.staticClass+=" v-resizable__handle--hide"),e},genContent:function(){return this.$scopedSlots.default&&this.$scopedSlots.default({on:this.draggable?this.genListeners():{},value:this.internalValue,style:this.defaultSlotStyles,active:null!==this.originalValue})}},render:function(t){return t("div",{class:this.classes,style:this.styles,on:this.$listeners},[!this.disabled&&this.resizable&&this.genHandles(),t("div",{staticClass:"v-resizable__wrapper"},[this.genContent()])])}}),z=a(k,l("sketch")).extend({name:"v-sketch-element-controller",methods:{handleAdsorption:function(t){return this.sketch.refLines.length&&this.sketch.refLines.forEach((function(e){var i=Object(m.a)(e,1)[0];switch(i.direction){case"hl":t.left=i.left;break;case"hm":t.left=i.left-t.width/2;break;case"hr":t.left=i.left-t.width;break;case"vt":t.top=i.top;break;case"vm":t.top=i.top-t.height/2;break;case"vb":t.top=i.top-t.height}})),t},emitMoveEvent:function(t){this.handle?this.$emit("resizing",t):this.$emit("dragging",t)},onMove:function(t){if(this.originalValue){var e=this.handleMove(t);this.emitMoveEvent(e),e=this.handleAdsorption(e),e=this.snapToGrid(e),e=this.handleEdge(e),this.internalValue=e,t instanceof MouseEvent&&(t.preventDefault(),t.stopPropagation())}}},render:function(t){var e=k.options.render.call(this,t);return e.data.staticClass="v-sketch-element-controller",e}}),H=["vt","vm","vb","hl","hm","hr"],T=a(d,c,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.a.extend({name:"registrable-provide",methods:e?{}:{register:null,unregister:null},provide:function(){return Object(n.a)({},t,e?this:{register:this.register,unregister:this.unregister})}})}("sketch")).extend({name:"v-sketch",provide:function(){return{sketch:this}},props:{adsorptionThreshold:{type:Number,default:5},refLineDirections:{type:Array,default:function(){return H},validator:function(t){return new Set(t.filter((function(t){return new Set(H).has(t)}))).size===t.length}},referenceWidth:Number,referenceHeight:Number,convertAspectRatioAttrs:{type:[Array,Boolean],default:function(){return["left","right","width","maxWidth","minWidth","top","bottom","height","maxHeight","minHeight"]}}},data:function(){return{items:[],refLines:[],hoverIndex:null,selectedIndex:null,resizeWrapper:{offsetWidth:null,offsetHeight:null}}},watch:{selectedIndex:function(t){this.$emit("selected",t)}},computed:{classes:function(){return{"v-sketch":!0}},selected:function(){var t=this;return this.items.find((function(e){return e.index===t.selectedIndex}))},hovered:function(){var t=this;return this.items.find((function(e){return e.index===t.hoverIndex}))},refLinesAllDirections:function(){return[this.refLineDirections.filter((function(t){return t.indexOf("h")>-1})),this.refLineDirections.filter((function(t){return-1===t.indexOf("h")}))]},horizontalRatio:function(){return this.resizeWrapper.offsetWidth&&this.referenceWidth?this.resizeWrapper.offsetWidth/this.referenceWidth:null},verticalRatio:function(){return this.resizeWrapper.offsetHeight&&this.referenceHeight?this.resizeWrapper.offsetHeight/this.referenceHeight:null},aspectRatio:function(){return this.verticalRatio&&this.horizontalRatio?Math.min(this.verticalRatio,this.horizontalRatio):null}},methods:{register:function(t){this.items.push(t)},unregister:function(t){var e=this.items.find((function(e){return e._uid===t._uid}));e&&(this.items=this.items.filter((function(t){return t._uid!==e._uid})))},convertToResponsive:function(t,e){return"number"!=typeof(i=t)||isNaN(i)||!this.aspectRatio?t:this.convertAspectRatioAttrs&&this.convertAspectRatioAttrs.includes(e)?(t*=this.aspectRatio,this.aspectRatio===this.verticalRatio&&"left"===e?t+=(this.resizeWrapper.offsetWidth-this.referenceWidth*this.aspectRatio)/2:this.aspectRatio===this.horizontalRatio&&"top"===e&&(t+=(this.resizeWrapper.offsetHeight-this.referenceHeight*this.aspectRatio)/2),parseInt(t)):t;var i},getRefPointsByValue:function(t){var e={vt:function(){return parseInt(t.top)},vm:function(){return parseInt(t.top+t.height/2)},vb:function(){return parseInt(t.top+t.height)},hl:function(){return parseInt(t.left)},hm:function(){return parseInt(t.left+t.width/2)},hr:function(){return parseInt(t.left+t.width)}};return this.refLineDirections.reduce((function(t,i){return t[i]=e[i](),t}),{})},clearRefData:function(){this.refLines=[]},calculateAdsorptionLine:function(t){var e=this.selected,i=t.compare,n=t.vertical?[i.top,i.top+i.height,e.internalTop,e.internalTop+e.internalHeight]:[i.left,i.left+i.width,e.internalLeft,e.internalLeft+e.internalWidth],r=Math.min.apply(Math,n),s=Math.max.apply(Math,n);return t.vertical?{left:i.point,top:r,length:s-r,direction:t.direction,vertical:!0}:{left:r,top:i.point,length:s-r,direction:t.direction,vertical:!1}},calculateDistanceLine:function(t){var e=this.selected,i=t.compare,n=t.vertical?[i.top,i.top+i.height,e.internalTop,e.internalTop+e.internalHeight]:[i.left,i.left+i.width,e.internalLeft,e.internalLeft+e.internalWidth],r=[].concat(n);n.sort((function(t,e){return t-e}));var s=n[0],a=n[3];if(s===r[2]){if(a===r[3])return null;var o=n.indexOf(r[3]);s=n[o],a=n[o+1]}else if(a===r[3]){if(s===r[2])return null;var l=n.indexOf(r[2]);s=n[l-1],a=n[l]}else s=n[1],a=n[2];if(![s,a].some((function(t){return![r[2],r[3]].includes(t)})))return null;if(t.vertical){var h=i.point,c=i.point-(e.internalLeft+e.internalWidth/2);return Math.abs(c)>this.adsorptionThreshold+1&&(c>0?h-=e.internalWidth/2:h+=e.internalWidth/2),{top:s,left:h,length:a-s,vertical:!0}}var d=i.point,u=i.point-(e.internalTop+e.internalHeight/2);return Math.abs(u)>this.adsorptionThreshold+1&&(u>0?d-=e.internalHeight/2:d+=e.internalHeight/2),{top:d,left:s,length:a-s}},calculateDistanceDashedLine:function(t,e){if(!e)return null;var i=this.selected,n=t.compare;if(t.vertical){if(n.point===e.left)return null;var r=n.point>e.left?n.left-i.internalLeft:i.internalLeft+i.internalWidth-n.left-n.width;return r=r>0?r:0,{left:n.point>e.left?i.internalLeft:n.left+n.width,top:i.internalTop>n.top?e.top:e.top+e.length,length:r,borderStyle:"dashed"}}if(n.point===e.top)return null;var s=n.point>e.top?n.top-i.internalTop:i.internalTop+i.internalHeight-n.top-n.height;return s=s>0?s:0,{top:n.point>e.top?i.internalTop:n.top+n.height,left:i.internalLeft>n.left?e.left:e.left+e.length,length:s,borderStyle:"dashed",vertical:!0}},calculateRefData:function(t){for(var e=this,i=this.adsorptionThreshold+1,n=this.getRefPointsByValue(t),r=this.items.filter((function(t){return t.index!==e.selectedIndex})).reduce((function(t,r){return e.refLinesAllDirections.forEach((function(e,s){e.forEach((function(a){e.forEach((function(e){var o=n[e],l=r.refPoints[a],h=Math.abs(o-l);h<i&&t.push({offsetAmount:h,direction:e,point:o,compare:{top:r.internalTop,left:r.internalLeft,height:r.internalHeight,width:r.internalWidth,direction:a,point:l},vertical:0===s})}))}))})),t}),[]).sort((function(t,e){return Math.abs(e.offsetAmount-t.offsetAmount)})),s=[],a=r.length;a--&&(s[0]&&s[0].vertical===r[a].vertical||s.push(r[a]),!(s.length>=2)););this.refLines=s.map((function(t){var i=e.calculateDistanceLine(t);return[e.calculateAdsorptionLine(t),i,e.calculateDistanceDashedLine(t,i)]}))},genHover:function(){return this.$createElement("div",{staticClass:"v-sketch__hovered",style:{top:h(this.hovered.internalTop||0),left:h(this.hovered.internalLeft||0),width:h(this.hovered.internalWidth||0),height:h(this.hovered.internalHeight||0)}})},genRefLines:function(){var t=this;return this.refLines.map((function(e){return[e[0]&&t.$createElement(g,{props:Object.assign(e[0],{color:"#FF00CC"})}),e[1]&&t.$createElement(g,{style:{overflow:"visible",zIndex:9991},props:Object.assign(e[1],{color:"#0084ff"})},[t.$createElement(g,{props:e[1].vertical?{color:"#0084ff",top:0,left:-3,length:6}:{color:"#0084ff",top:-3,left:0,length:6,vertical:!0},style:{maxHeight:"none",maxWidth:"none"}}),t.$createElement(g,{props:e[1].vertical?{color:"#0084ff",top:"100%",left:-3,length:6}:{color:"#0084ff",top:-3,left:"100%",length:6,vertical:!0},style:{maxHeight:"none",maxWidth:"none"}}),t.$createElement(v,{props:{color:"#0084ff",vertical:e[1].vertical}},[e[1].length])]),e[2]&&t.$createElement(g,{props:Object.assign(e[2],{color:"#0084ff"})})]}))},updateSelected:function(t,e){this.$set(this.internalValue[this.selectedIndex],t,e)},genElementController:function(){var t=this;return this.$createElement(z,{props:{value:{top:this.selected.internalTop||0,left:this.selected.internalLeft||0,width:this.selected.internalWidth||10,height:this.selected.internalHeight||10},absolute:!0,point:!0,outlined:!0,cursor:!0,minWidth:5,minHeight:5,parent:this.parent},on:{click:function(t){t.preventDefault(),t.stopPropagation()},dragging:this.calculateRefData,dragstop:this.clearRefData,change:function(e){return Object.keys(e).forEach((function(i){if(t.aspectRatio){var n=e[i];t.aspectRatio===t.verticalRatio&&"left"===i?n-=(t.resizeWrapper.offsetWidth-t.referenceWidth*t.aspectRatio)/2:t.aspectRatio===t.horizontalRatio&&"top"===i&&(n-=(t.resizeWrapper.offsetHeight-t.referenceHeight*t.aspectRatio)/2),n/=t.aspectRatio,t.updateSelected(i,parseInt(n))}else t.updateSelected(i,e[i])}))}},scopedSlots:{default:function(e){var i=e.on,n=e.style;return t.$createElement("div",{on:i,style:n})}}})}}});i(168);function W(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var C=a(s.a.extend({name:"positionable",props:{absolute:Boolean,fixed:Boolean,top:[Number,String],left:[Number,String],right:[Number,String],bottom:[Number,String]},computed:{positionableStyles:function(){var t={},e=h(this.top),i=h(this.left),n=h(this.right),r=h(this.bottom);return e&&(t.top=e),i&&(t.left=i),n&&(t.right=n),r&&(t.bottom=r),t},positionableClasses:function(){return{"v-position--absolute":this.absolute,"v-position--fixed":this.fixed}}}}),d,s.a.extend({name:"transitionable",props:{appear:Boolean,css:{type:Boolean,default:!0},transition:{type:[String,Boolean],default:!1},type:String,mode:String,duration:[Number,Object],enterClass:String,leaveClass:String,appearClass:String,enterToClass:String,leaveToClass:String,appearToClass:String,enterActiveClass:String,leaveActiveClass:String,appearActiveClass:String},methods:{genTransition:function(t){if(this.transition){var e={name:this.transition,appear:this.appear,css:this.css,type:this.type,mode:this.mode,duration:this.duration};this.enterClass&&(e.enterClass=this.enterClass),this.leaveClass&&(e.leaveClass=this.leaveClass),this.appearClass&&(e.appearClass=this.appearClass),this.enterToClass&&(e.enterToClass=this.enterToClass),this.leaveToClass&&(e.leaveToClass=this.leaveToClass),this.appearToClass&&(e.appearToClass=this.appearToClass),this.enterActiveClass&&(e.enterActiveClass=this.enterActiveClass),this.leaveActiveClass&&(e.leaveActiveClass=this.leaveActiveClass),this.appearActiveClass&&(e.appearActiveClass=this.appearActiveClass),t=this.$createElement("transition",{props:e},[t])}return t}}}),s.a.extend({name:"size-bootable",methods:{sizeBoot:function(){var t=this;this.$nextTick((function(){t.$emit("size-booted",{width:t.$el.offsetWidth,height:t.$el.offsetHeight})}))}}}),s.a.extend({name:"position-bootable",methods:{positionBoot:function(){var t=this;this.$nextTick((function(){t.$emit("position-booted",{top:t.$el.offsetTop,left:t.$el.offsetLeft})}))}}}),l("sketch")).extend({inheritAttrs:!1,name:"v-sketch-element",props:{tag:{required:!0},index:Number},created:function(){this.sketch&&this.sketch.register(this)},beforeDestroy:function(){this.sketch&&this.sketch.unregister(this)},mounted:function(){this.height&&this.width||this.sizeBoot(),this.top&&this.left||this.positionBoot()},computed:{classes:function(){return $({"v-sketch-element":!0},this.positionableClasses)},internalLeft:function(){return this.convertToResponsive(this.left,"left")},internalTop:function(){return this.convertToResponsive(this.top,"top")},internalWidth:function(){return this.convertToResponsive(this.width,"width")},internalHeight:function(){return this.convertToResponsive(this.height,"height")},measurableStyles:function(){var t={},e=h(this.internalHeight),i=h(this.convertToResponsive(this.maxHeight,"maxHeight")),n=h(this.convertToResponsive(this.minHeight,"minHeight")),r=h(this.internalWidth),s=h(this.convertToResponsive(this.maxWidth,"maxWidth")),a=h(this.convertToResponsive(this.minWidth,"minWidth"));return e&&(t.height=e),i&&(t.maxHeight=i),n&&(t.minHeight=n),r&&(t.width=r),s&&(t.maxWidth=s),a&&(t.minWidth=a),t},positionableStyles:function(){var t={},e=h(this.internalTop),i=h(this.internalLeft),n=h(this.convertToResponsive(this.right,"right")),r=h(this.convertToResponsive(this.bottom,"bottom"));return e&&(t.top=e),i&&(t.left=i),n&&(t.right=n),r&&(t.bottom=r),t},styles:function(){return $({},this.animationableStyles,{},this.measurableStyles,{},this.positionableStyles)},refPoints:function(){return{vt:Number(this.internalTop),vm:parseInt(Number(this.internalTop)+Number(this.internalHeight)/2),vb:Number(this.internalTop)+Number(this.internalHeight),hl:Number(this.internalLeft),hm:parseInt(Number(this.internalLeft)+Number(this.internalWidth)/2),hr:Number(this.internalLeft)+Number(this.internalWidth)}}},methods:{convertToResponsive:function(t,e){return this.sketch?this.sketch.convertToResponsive(t,e):t}},render:function(t){return this.genTransition(t(this.tag,{attrs:this.$attrs,class:this.classes,style:this.styles,on:this.$listeners},this.$slots.default))}}),M=i(139);function R(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}var A={inserted:function(t,e){var i=e.modifiers||{},n=e.value,r="object"===Object(M.a)(n)?n.handler:n,s=new IntersectionObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(t._observe){if(r&&(!i.quiet||t._observe.init)){var s=Boolean(e.find((function(t){return t.isIntersecting})));r(e,n,s)}t._observe.init&&i.once?R(t):t._observe.init=!0}}),n.options||{});t._observe={init:!1,observer:s},s.observe(t)},unbind:R};function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var V=a(C).extend({inheritAttrs:!1,name:"v-canvas-element",props:{lazy:Boolean},data:function(){return{show:!1}},directives:{intersect:A},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({"v-canvas-element":!0},C.options.computed.classes.call(this))},directives:function(){var t=this;return this.lazy?[{name:"intersect",value:function(e){return t.show=e[0].isIntersecting}}]:[]}},render:function(t){var e;if(this.lazy&&!this.show)e=t("div",{class:this.classes,style:this.styles,directives:this.directives});else if(this.$scopedSlots&&this.$scopedSlots.render){if(e=this.$scopedSlots.render(this.$attrs),Array.isArray(e)&&1===e.length&&(e=e[0]),!e||Array.isArray(e)||!e.tag)return e;e.data=e.data||{},e.data.class=this.classes,e.data.style=this.styles,e.data.directives=this.directives,e.data.on=this.$listeners}else e=t(this.tag,{attrs:this.$attrs,class:this.classes,style:this.styles,on:this.$listeners,directives:this.directives},this.$slots.default);return this.genTransition(e)}}),P=["class","style","directives","staticClass","on","nativeOn","attrs","props","domProps","scopedSlots","staticStyle","hook","transition","slot","key","ref","show","keepAlive"],_=s.a.extend({name:"create-element-by-object",props:{emptyTag:"div"},methods:{createElementByObject:function(t){var e=this,i=t.data||{};return Object.keys(t).forEach((function(e){P.includes(e)?i[e]=t[e]:["tag","data","children"].includes(e)||(i.attrs=i.attrs||{},i.attrs[e]=t[e])})),this.$createElement(t.tag||this.emptyTag,i,Array.isArray(t.children)?t.children.map((function(t){return e.createElementByObject(t)})):t.children)}}});var B={inserted:function(t,e){var i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()},unbind:function(t){if(t._onResize){var e=t._onResize,i=e.callback,n=e.options;window.removeEventListener("resize",i,n),delete t._onResize}}};function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function D(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var I=a(T,_).extend({inheritAttrs:!1,name:"v-canvas",directives:{resize:B},props:{value:{type:Array,default:function(){return[]}},editable:Boolean,appear:Boolean,lazy:Boolean,absolute:Boolean,fixed:Boolean,parent:Boolean,background:String,backgroundPosition:{type:String,default:"center center"},backgroundSize:{type:String,default:"100% 100%"},hideElements:Boolean},computed:{classes:function(){var t={"v-canvas":!0};return this.editable&&(t=Object.assign(t,T.options.computed.classes.call(this))),t}},methods:{genBackground:function(){return this.$createElement("div",{staticClass:"v-canvas__background",style:{backgroundImage:"url(".concat(this.background,")"),backgroundPosition:this.backgroundPosition,backgroundSize:this.backgroundSize}})},handleItem:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=D({},t);return r.props=r.props||{},r.props.tag=r.tag,r.index=e,r.appear=this.appear,r.lazy=this.lazy,(this.$scopedSlots["item-".concat(e)]||this.$scopedSlots[r.name])&&(r.scopedSlots={render:this.$scopedSlots["item-".concat(e)]||this.$scopedSlots[r.name]}),this.absolute&&(r.absolute=!0),this.fixed&&(r.fixed=!0),n||this.editable&&(r.on=r.on||{},r.on["size-booted"]=function(t){return Object.keys(t).forEach((function(n){void 0===r[n]&&i.$set(i.internalValue[e],n,t[n])}))},r.on["position-booted"]=function(t){return Object.keys(t).forEach((function(n){void 0===r[n]&&i.$set(i.internalValue[e],n,t[n])}))},r.on.click=function(t){i.selectedIndex=e,t.preventDefault(),t.stopPropagation()},r.on.mouseenter=function(){return i.hoverIndex=e},r.on.mouseleave=function(){return i.hoverIndex=null}),D({},r,{tag:V,children:Array.isArray(r.children)?r.children.map((function(t,e){return i.handleItem(t,e,!0)})):r.children})},genElements:function(){var t=this;return this.value.map((function(e,i){return t.handleItem(e,i,!1)})).map((function(e){return t.createElementByObject(e)}))}},render:function(t){var e=this,i=[];return this.background&&i.push(this.genBackground()),i.push(t("div",{staticClass:"v-canvas__wrapper"},[!this.hideElements&&this.value&&this.genElements(),this.$slots.default])),this.editable&&(null!==this.selectedIndex&&i.push(this.genElementController()),null!==this.hoverIndex&&this.selectedIndex!==this.hoverIndex&&i.push(this.genHover()),i.push(this.genRefLines())),t("div",{class:this.classes,style:this.measurableStyles,directives:[{name:"resize",value:function(){e.resizeWrapper.offsetWidth=e.$el.offsetWidth,e.resizeWrapper.offsetHeight=e.$el.offsetHeight}}],on:{click:function(){return e.selectedIndex=null}}},i)}}),X=[{tag:"img",name:"矩形 1",width:800,height:130,left:0,top:670,src:i.p+"b42b91d8a01c130f11a5719d683bc386.png"},{tag:"img",name:"图层 3",width:53,height:117,left:208,top:670,src:i.p+"800f700e06da6aaf51a798fc7e92fac5.png"},{tag:"img",name:"矩形 1 拷贝",width:230,height:130,left:0,top:670,src:i.p+"f8ff7452e6aacd041a3e690c31cd173b.png"},{tag:"img",name:"矩形 1 拷贝 2",width:230,height:23,left:0,top:670,src:i.p+"c4243af1d1ddce4fdcafcf043448d783.png"},{tag:"img",name:"矩形 2",width:187,height:35,left:260,top:752,src:i.p+"4bf6b456da12ad9b5a92b448fd83628f.png"},{tag:"img",name:"矩形 2 拷贝",width:291,height:35,left:484,top:752,src:i.p+"aaf35f76eb428abb5519be6895b41982.png"},{tag:"img",name:"形状 2",width:155,height:2,left:38,top:757,src:i.p+"b50204b01e4ce975bc76dc653183b68a.png"},{tag:"img",name:"形状 2 拷贝",width:155,height:2,left:38,top:786,src:i.p+"b50204b01e4ce975bc76dc653183b68a.png"},{tag:"img",name:"矩形 3",width:170,height:110,left:606,top:0,src:i.p+"375f4aececbb356ce793ab00562284f2.png"},{tag:"img",name:"十周年",width:45,height:17,left:670,top:87,src:i.p+"cfc672e6589c9abacdddcb05443119c8.png"},{tag:"img",name:"全球狂欢节",width:102,height:22,left:661,top:63,src:i.p+"2d9fc6d1439fb794fa258a1937e885b9.png"},{tag:"img",name:"天猫",width:43,height:22,left:619,top:64,src:i.p+"c5d1ab86128d59a59af3b51990a0f344.png"},{tag:"img",name:"猫头",width:91,height:55,left:646,top:6,src:i.p+"9c865e608242b520389156e903161bac.png"},{tag:"img",name:"[P1]",width:128,height:57,left:65,top:691,src:i.p+"910cd2f56c23d3d000afe5a4a2a935da.png"},{tag:"img",name:"预售价",width:20,height:59,left:37,top:690,src:i.p+"3417a2cd7b23e44c050d10dc207c0ca2.png"},{tag:"img",name:"定金: ￥50",width:92,height:19,left:69,top:763,src:i.p+"8053f830d3ad025d3364dad39491fb64.png"},{tag:"img",name:"收藏店铺领限量优惠券",width:518,height:52,left:258,top:690,src:i.p+"66d16b5017c0149fdd3c812cf963ff39.png"},{tag:"img",name:"双十一提前抢",width:143,height:23,left:282,top:757,src:i.p+"4d539b13a75efeb191cf4517842112d3.png"},{tag:"img",name:"预售时间: 10.20-11.10",width:235,height:23,left:512,top:757,src:i.p+"8a0f224b6329a776582641bccfefc1bb.png"}];var Y={components:{DemoCanvas:{functional:!0,render:function(t,e){var i=e.data||{};return i.attrs=function t(e,i){for(var n in i)e[n]=e[n]&&"[object Object]"===e[n].toString()?t(e[n],i[n]):e[n]=i[n];return e}(i.attrs||{},{referenceWidth:800,referenceHeight:800,value:X,absolute:!0}),t(I,i,e.children||[])}}},data:function(){return{items:X}}},G=i(47),q=Object(G.a)(Y,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{attrs:{color:"#191c20",tile:""}},[e("demo-canvas",{staticClass:"mx-auto white",attrs:{editable:"",width:375,height:667},scopedSlots:this._u([{key:"item-0",fn:function(t){var i=t.src;return[e("img",{staticStyle:{display:"block",width:"100%",height:"100%"},attrs:{src:i}})]}}])}),this._v(" "),e("div",{staticClass:"white--text pa-3"},[this._v(this._s(this.items))])],1)}),[],!1,null,null,null);e.default=q.exports}}]);